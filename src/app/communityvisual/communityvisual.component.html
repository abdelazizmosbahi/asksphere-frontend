<div class="container py-4">
    <h2 class="text-center mb-4">{{communityName}} Community Dashboard</h2>
  
    <!-- Loading State -->
    <div *ngIf="loading" class="text-center py-5">
      <div class="spinner-border text-primary" role="status">
        <span class="visually-hidden">Loading...</span>
      </div>
      <p class="text-muted">Fetching community data...</p>
    </div>
  
    <!-- Charts -->
    <div *ngIf="!loading" class="row">
      <!-- Summary Cards -->
      <div class="col-12 mb-4">
        <div class="summary-cards">
          <div class="summary-card questions">
            <h3>Questions</h3>
            <div class="count">{{summaryData.totalQuestions}}</div>
            <div class="trend" [class.up]="summaryData.questionTrend > 0" [class.down]="summaryData.questionTrend < 0">
              <i class="bi" [class.bi-arrow-up]="summaryData.questionTrend > 0" [class.bi-arrow-down]="summaryData.questionTrend < 0"></i>
              {{summaryData.questionTrend}}% this month
            </div>
          </div>
          <div class="summary-card answers">
            <h3>Answers</h3>
            <div class="count">{{summaryData.totalAnswers}}</div>
            <div class="trend" [class.up]="summaryData.answerTrend > 0" [class.down]="summaryData.answerTrend < 0">
              <i class="bi" [class.bi-arrow-up]="summaryData.answerTrend > 0" [class.bi-arrow-down]="summaryData.answerTrend < 0"></i>
              {{summaryData.answerTrend}}% this month
            </div>
          </div>
          <div class="summary-card users">
            <h3>Active Users</h3>
            <div class="count">{{summaryData.activeUsers}}</div>
            <div class="trend" [class.up]="summaryData.userTrend > 0" [class.down]="summaryData.userTrend < 0">
              <i class="bi" [class.bi-arrow-up]="summaryData.userTrend > 0" [class.bi-arrow-down]="summaryData.userTrend < 0"></i>
              {{summaryData.userTrend}}% this month
            </div>
          </div>
          <div class="summary-card banned">
            <h3>Banned Users</h3>
            <div class="count">{{summaryData.bannedUsers}}</div>
          </div>
        </div>
      </div>

      <!-- Bar Chart -->
      <div class="col-md-6 mb-4">
        <div class="chart-container">
          <apx-chart
            [series]="barChartOptions.series"
            [chart]="barChartOptions.chart"
            [xaxis]="barChartOptions.xaxis"
            [title]="barChartOptions.title"
            [colors]="barChartOptions.colors"
            [dataLabels]="barChartOptions.dataLabels"
            [legend]="barChartOptions.legend"
          ></apx-chart>
        </div>
      </div>
  
      <!-- Pie Chart -->
      <div class="col-md-6 mb-4">
        <div class="chart-container">
          <apx-chart
            [series]="pieChartOptions.series"
            [chart]="pieChartOptions.chart"
            [labels]="pieChartOptions.labels"
            [title]="pieChartOptions.title"
            [colors]="pieChartOptions.colors"
            [dataLabels]="pieChartOptions.dataLabels"
            [legend]="pieChartOptions.legend"
          ></apx-chart>
        </div>
      </div>
  
      <!-- Line Chart -->
      <div class="col-md-12 mb-4">
        <div class="chart-container">
          <apx-chart
            [series]="lineChartOptions.series"
            [chart]="lineChartOptions.chart"
            [xaxis]="lineChartOptions.xaxis"
            [title]="lineChartOptions.title"
            [colors]="lineChartOptions.colors"
            [dataLabels]="lineChartOptions.dataLabels"
          ></apx-chart>
        </div>
      </div>

      <!-- Heatmap -->
      <div class="col-md-6 mb-4">
        <div class="chart-container">
          <h3>Activity Heatmap</h3>
          <div class="heatmap-grid">
            <div *ngFor="let cell of heatmapData" 
                 class="heatmap-cell" 
                 [style.background]="'rgba(63, 81, 181, ' + cell.intensity + ')'">
              <div class="tooltip">{{cell.count}} on {{cell.day}}</div>
            </div>
          </div>
        </div>
      </div>

      <!-- Radial Chart -->
      <div class="col-md-6 mb-4">
        <div class="chart-container">
          <apx-chart
            [series]="radialChartOptions.series"
            [chart]="radialChartOptions.chart"
            [labels]="radialChartOptions.labels"
            [title]="radialChartOptions.title"
            [colors]="radialChartOptions.colors"
            [plotOptions]="radialChartOptions.plotOptions"
          ></apx-chart>
        </div>
      </div>
    </div>
</div>